<div class="chat-box">
  <div class="tab-content">
    <!--                        <div class="tab-pane fade active show" id="default-block" role="tabpanel">-->
    <!--                          <div class="chat-start">-->
    <!--                            <span class="iq-start-icon text-primary"><i class="ri-message-3-line"></i></span>-->
    <!--                            <button id="chat-start" class="btn bg-white mt-3">Start-->
    <!--                              Conversation!</button>-->
    <!--                          </div>-->
    <!--                        </div>-->
    <div class="tab-pane fade active show" id="chatbox1" role="tabpanel" *ngIf="user">
      <div class="chat-head">
        <header class="d-flex justify-content-between align-items-center bg-white pt-3 pr-3 pb-3">
          <div class="d-flex align-items-center">
            <div class="sidebar-toggle pointer" (click)="onToggleChatList()">
              <i class="ri-menu-3-line"></i>
            </div>
            <div class="avatar chat-user-profile m-0 mr-3">
              <a routerLink="/{{ user.username }}">
                <img src="{{ user?.picture }}" alt="avatar" class="avatar-50 ">
              </a>
              <span class="avatar-status"><i class="ri-checkbox-blank-circle-fill {{ user?.isOnline ? 'text-success' : 'text-danger' }}"></i></span>
            </div>
            <a routerLink="/{{ user.username }}">
              <h5 class="mb-0">{{ user?.fullName }}</h5>
            </a>
          </div>
          <!--                    <div class="chat-user-detail-popup scroller">-->
          <!--                      <div class="user-profile text-center">-->
          <!--                        <button type="submit" class="close-popup p-3"><i class="ri-close-fill"></i></button>-->
          <!--                        <div class="user mb-4">-->
          <!--                          <a class="avatar m-0">-->
          <!--                            <img src="{{ user?.picture }}" alt="avatar">-->
          <!--                          </a>-->
          <!--                          <div class="user-name mt-4">-->
          <!--                            <h4>Bni Jordan</h4>-->
          <!--                          </div>-->
          <!--                          <div class="user-desc">-->
          <!--                            <p>Cape Town, RSA</p>-->
          <!--                          </div>-->
          <!--                        </div>-->
          <!--                        <hr>-->
          <!--                        <div class="chatuser-detail text-left mt-4">-->
          <!--                          <div class="row">-->
          <!--                            <div class="col-6 col-md-6 title">Bni Name:</div>-->
          <!--                            <div class="col-6 col-md-6 text-right">Bni</div>-->
          <!--                          </div>-->
          <!--                          <hr>-->
          <!--                          <div class="row">-->
          <!--                            <div class="col-6 col-md-6 title">Tel:</div>-->
          <!--                            <div class="col-6 col-md-6 text-right">072 143 9920</div>-->
          <!--                          </div>-->
          <!--                          <hr>-->
          <!--                          <div class="row">-->
          <!--                            <div class="col-6 col-md-6 title">Date Of Birth:</div>-->
          <!--                            <div class="col-6 col-md-6 text-right">July 12, 1989</div>-->
          <!--                          </div>-->
          <!--                          <hr>-->
          <!--                          <div class="row">-->
          <!--                            <div class="col-6 col-md-6 title">Gender:</div>-->
          <!--                            <div class="col-6 col-md-6 text-right">Male</div>-->
          <!--                          </div>-->
          <!--                          <hr>-->
          <!--                          <div class="row">-->
          <!--                            <div class="col-6 col-md-6 title">Language:</div>-->
          <!--                            <div class="col-6 col-md-6 text-right">Engliah</div>-->
          <!--                          </div>-->
          <!--                        </div>-->
          <!--                      </div>-->
          <!--                    </div>-->
          <div class="chat-header-icons d-flex">
            <a href="#" class="chat-icon-phone iq-bg-primary">
              <i class="ri-phone-line"></i>
            </a>
            <a href="#" class="chat-icon-video iq-bg-primary">
              <i class="ri-vidicon-line"></i>
            </a>
            <a href="#" class="chat-icon-delete iq-bg-primary">
              <i class="ri-delete-bin-line"></i>
            </a>
            <span class="dropdown iq-bg-primary">
                       <i class="ri-more-2-line cursor-pointer dropdown-toggle nav-hide-arrow cursor-pointer pr-0" id="dropdownMenuButton02" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" role="menu"></i>
                       <span class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton02">
                         <a class="dropdown-item" href="#"><i class="fa fa-thumb-tack" aria-hidden="true"></i> Pin to top</a>
                         <a class="dropdown-item" href="#"><i class="fa fa-trash" aria-hidden="true"></i> Delete chat</a>
                         <a class="dropdown-item" href="#"><i class="fa fa-ban" aria-hidden="true"></i> Block</a>
                       </span>
                    </span>
          </div>
        </header>
      </div>
      <div class="chat-content scroller" #scrollToBottom>

        <div class="chat" *ngFor="let chat of chats;" [ngClass]="{'chat-left': chat?.from === user.username}">
          <div class="chat-user">
            <a class="avatar m-0">
              <img src="{{ chat?.sender?.picture }}" alt="avatar" class="avatar-35 ">
            </a>
            <!--                    <span class="chat-time mt-1">{{ message?.date }}</span>-->
          </div>
          <div class="chat-detail">
            <div class="chat-message">
              <p>{{ chat?.message }}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="chat-footer p-3 bg-white">
        <form [formGroup]="sendMessageForm" (ngSubmit)="onSendMessage()" class="d-flex align-items-center">
          <div class="chat-attagement d-flex">
            <a href="#"><i class="fa fa-smile-o pr-3" aria-hidden="true"></i></a>
            <a href="#"><i class="fa fa-paperclip pr-3" aria-hidden="true"></i></a>
          </div>
          <input type="text" class="form-control mr-3" placeholder="Tapez votre message" formControlName="message">
          <button type="submit" class="btn bgclr-grintaaa clr-white d-flex align-items-center p-2">
            <i class="fa fa-paper-plane" aria-hidden="true"></i>
            <span class="d-none d-lg-block ml-1">Envoyer</span></button>
        </form>
      </div>
    </div>
  </div>
</div>
